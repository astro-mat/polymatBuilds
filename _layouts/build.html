---
layout: default
---

<section class="container my-5">
  <div class="row justify-content-center">
    <div class="col-12 col-lg-10 col-xl-8">

      <!-- Title & Meta -->
      <header class="mb-4 text-center">
        <h1 class="display-5 fw-bold">{{ page.title }}</h1>
        <p class="text-secondary mb-1">{{ page.description }}</p>
        <p class="text-muted small mb-0">
          <span class="me-2"><strong>Category:</strong> {{ page.category }}</span> •
          <time datetime="{{ page.date | date_to_xmlschema }}">{{ page.date | date: "%B %e, %Y" }}</time>
        </p>
      </header>

      <!-- Featured Image -->
      {% if page.image %}
      <figure class="mb-4 text-center">
        <img src="{{ page.image | relative_url }}"
             alt="{{ page.title }}"
             class="img-fluid rounded shadow-sm w-100"
             role="button"
             onclick="openModal(event,this)"
             data-img="{{ page.image | relative_url }}">
      </figure>
      {% endif %}

      <!-- Build Content -->
      <article class="content mb-5">
        {{ content }}
      </article>

      <!-- Back Button -->
      <div class="text-center mt-4">
        <a href="{{ '/builds/' | relative_url }}" class="btn btn-outline-light">← Back to All Builds</a>
      </div>

    </div>
  </div>
</section>

<!-- Image Modal -->
<div class="modal fade" id="imgModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content bg-dark text-light border-0">
      <div class="modal-body p-0">
        <img id="modalImage" src="" class="img-fluid w-100 rounded-bottom" alt="">
      </div>
      <div class="modal-footer border-0">
        <button type="button" class="btn btn-outline-light" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<script>
  // Make all content images responsive
  document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('.content img').forEach(img => {
      img.classList.add('img-fluid', 'rounded', 'my-3', 'shadow-sm');
      img.style.cursor = 'pointer';
      img.addEventListener('click', e => openModal(e, img));
    });

    // Modal cleanup
    const modalEl = document.getElementById('imgModal');
    if (modalEl) {
      modalEl.addEventListener('hidden.bs.modal', () => {
        document.getElementById('modalImage').src = '';
      });
    }
  });

  // Modal logic
  function openModal(e, el) {
    e.preventDefault();
    const src = el.dataset.img || el.src;
    const modalImg = document.getElementById('modalImage');
    modalImg.src = src;
    new bootstrap.Modal(document.getElementById('imgModal')).show();
  }
</script>
